{"meta":{"title":"Write it casually","subtitle":"小白笔记","description":"Just for fun","author":"lunksana","url":"http://yoursite.com"},"pages":[{"title":"关于我","date":"2017-05-13T05:45:22.000Z","updated":"2017-05-13T08:18:10.779Z","comments":true,"path":"about/index.html","permalink":"http://yoursite.com/about/index.html","excerpt":"","text":"热爱折腾，喜欢： Python Shell 当然我也会： 研究翻墙技术 吐槽 虐单身狗 联系我： Github：lunksana1 Twitter: lunksana Mail: lunksana@gmail.com"}],"posts":[{"title":"V2Ray安装配置","slug":"v2ray-how-to-install","date":"2017-05-13T01:27:49.000Z","updated":"2017-05-13T08:31:22.387Z","comments":true,"path":"2017/05/13/v2ray-how-to-install/","link":"","permalink":"http://yoursite.com/2017/05/13/v2ray-how-to-install/","excerpt":"前言 V2Ray的安装非常简单，官方提供了一键安装脚本，有难度的是配置文件的调整及组件的添加 更新历史 2017年05月13日-撰写初稿 准备工作 注意 本文主要针对Linux为服务端及Windows为客户端的情况","text":"前言 V2Ray的安装非常简单，官方提供了一键安装脚本，有难度的是配置文件的调整及组件的添加 更新历史 2017年05月13日-撰写初稿 准备工作 注意 本文主要针对Linux为服务端及Windows为客户端的情况 时间校准V2Ray验证方式包含时间，如果时间不正确，将无法连接到服务器，尽量保证服务端和客户端的时间差不要超过一分钟；同时，V2Ray会自动转换时区，故不需要调整时区，只需要保证时间准确；服务器端校准时间方法如下，客户端请自行设置 1234$ date -RFri, 12 May 2017 03:04:19 -0400 //查看系统时间，-0400代表的时区为西4区，如果转换为东8区时间为 2017-05-12 15:04:19date --set=\"2017-05-12 03:04:19\" //设定时间Fri, 12 May 03:04:19 GMT 2017 安装curl[Redhat\\CentOS]1$ yum -y install curl [Debian\\Ubuntu]1$ apt-get install curl 安装V2Ray 1$ curl https://install.direct/go.sh |bash //一键命令 123456789Archive: /tmp/v2ray/v2ray.zipinflating: /tmp/v2ray/v2ray-v2.12.1-linux-64/systemd/v2ray.serviceinflating: /tmp/v2ray/v2ray-v2.12.1-linux-64/systemv/v2rayinflating: /tmp/v2ray/v2ray-v2.12.1-linux-64/v2rayinflating: /tmp/v2ray/v2ray-v2.12.1-linux-64/vpoint_socks_vmess.jsoninflating: /tmp/v2ray/v2ray-v2.12.1-linux-64/vpoint_vmess_freedom.jsonPORT:36832UUID:65d5fad7-af42-4ee9-b5df-a2d0998e8cd7V2Ray v2.12.1 is installed. 出现以上类似内容即表示安装完成主程序路径 /usr/bin/v2ray/v2ray配置文件路径 /etc/v2ray/config.json 配置文件说明打开/etc/v2Ray/config.json，截取配置文件中最重要的部分 12345678910111213\"inbound\": &#123; \"port\": 20342, //监听端口，如果启用了防火墙需要在防火墙中打开 \"protocol\": \"vmess\", //协议 \"settings\": &#123; \"clients\": [ &#123; \"id\": \"b831381d-6324-4d53-ad4f-8cda48b30811\", //用户ID，客户端和服务端必须保持一致 \"level\": 1, \"alterId\": 64 //扩展ID，客户端和服务端必须保持一致 &#125; ] &#125;&#125;, 其中： port: 服务器监听端口，如果启用了防火墙需要在防火墙中打开 protocol V2Ray协议设置，vmess是V2Ray独有协议，默认不需要修改 id: 用户ID，客户端和服务端必须保持一致，类似于身份验证密码 alterID: 扩展ID，客户端和服务端必须保持一致 开放防火墙端口[Redhat\\CentOS]12345678910111213#Redhat7+\\CentOS7+，即启动服务使用systemctl的#开放防火墙相应端口，按照配置文件中port为20342$ firewall-cmd --permanent --add-port=20342/tcp$ firewall-cmd --reload#Redhat7-\\CentOS7-，即启动服务使用service的#开放防火墙端口$ vi /etc/sysconfig/iptables-A INPUT -p tcp -m tcp --dport 20342 -j ACCEPT#保存退出#重启防火墙$ service iptables restart [Debian\\Ubuntu]1#Debian系一般默认并不开启防火墙 启动V2Ray[Redhat7+\\CentOS7+\\Debian8+\\Ubuntu15.04+]1234567#使用systemctl作为服务启动命令的$ systemctl start v2ray#查看状态$ systemctl status v2ray● v2ray.service - V2Ray Service Loaded: loaded (/usr/lib/systemd/system/v2ray.service; enabled; vendor preset: disabled) Active: active (running) [Redhat7-\\CentOS7-\\Debian8-\\Ubuntu15.04-]12#使用service作为服务启动命令的$ service v2ray start 客户端配置 下载客户端 客户端由两部分组成：V2Ray执行程序+第三方客户端注意 官方并未提供客户端，本教程使用了官方给出的第三方客户端V2Ray Taskbar进行说明V2Ray下载地址：https://github.com/v2ray/v2ray-core，请根据计算机位数下载压缩包下载地址：https://github.com/kxjhlele/v2ray-taskbar两个压缩包下载解压后，将v2ray-taskbar.exe这个执行程序复制到v2ray解压文件夹，如下图 修改配置文件只需要修改config.json这个文件，打开config.json，其中需要修改的部分如下：1234567891011121314151617181920212223242526272829303132333435&#123; \"log\": &#123; \"loglevel\": \"warning\" &#125;, \"inbound\": &#123; \"port\": 1080, //本地监听端口，默认为1080，如果你已经开启了shadowsocks，请修改，避免冲突 \"listen\": \"127.0.0.1\", //本地代理地址，默认为127.0.0.1 \"protocol\": \"socks\", //代理协议，本地提供的代理协议 \"settings\": &#123; \"auth\": \"noauth\", \"udp\": false, \"ip\": \"127.0.0.1\" &#125; &#125;, \"outbound\": &#123; \"protocol\": \"vmess\", //v2ray协议，默认不需要修改 \"settings\": &#123; \"vnext\": [ &#123; \"address\": \"server\", //远程服务器地址，可以是ip，也可以是域名 \"port\": 20342, //远程服务器端口，必须和服务端相同，即上面的20342 \"users\": [ &#123; \"id\": \"b831381d-6324-4d53-ad4f-8cda48b30811\", //ID，同理，必须和服务端相同 \"alterId\": 64, //扩展ID，必须和服务端相同 \"security\": \"auto\" &#125; ] &#125; ] &#125;, \"mux\": &#123; \"enabled\": true &#125;, &#125;, 基本上config.json只需要修改address，port，id，alterId四项使其与服务端保持一致就行 浏览器配置 V2Ray客户端在本地提供了一个socks5代理，所以如果要翻墙的话还需要对浏览器进行设置，以firefox为例打开firefox的选项，切换至高级选项卡，在网络设置中添加socks v5代理，地址为127.0.0.1，端口1080 至此，V2Ray的配置基本完成，尝试一下连接Google吧！ 推荐阅读 V2Ray用户手册 V2Ray上手教程","categories":[{"name":"gfw","slug":"gfw","permalink":"http://yoursite.com/categories/gfw/"}],"tags":[{"name":"V2Ray","slug":"V2Ray","permalink":"http://yoursite.com/tags/V2Ray/"}]},{"title":"V2Ray简单介绍","slug":"v2ray","date":"2017-05-12T04:34:29.000Z","updated":"2017-05-13T08:31:05.483Z","comments":true,"path":"2017/05/12/v2ray/","link":"","permalink":"http://yoursite.com/2017/05/12/v2ray/","excerpt":"前言 V2Ray是一款小众的模块化代理软件包，它的目标是提供常用的代理软件模块，简化网络代理软件的开发。 听起来有点绕口，简单来说，它就是一个代理，可以用来科学上网。 V2Ray 用户手册V2Ray 项目地址 V2Ray优点 更完善的协议： V2Ray 使用了新的自行研发的VMess协议，改进了Shadowsocks一些已有的缺点，更难被墙检测到 强大的性能： 相对于Shadowsocks，V2Ray的网络性能更好，具体数据可以看官方博客 更丰富的功能： V2Ray比起Shadowsocks多了许多的功能，以下是部分V2Ray的功能 mKCP: V2Ray 的 KCP 协议实现，不必另行安装 kcptun","text":"前言 V2Ray是一款小众的模块化代理软件包，它的目标是提供常用的代理软件模块，简化网络代理软件的开发。 听起来有点绕口，简单来说，它就是一个代理，可以用来科学上网。 V2Ray 用户手册V2Ray 项目地址 V2Ray优点 更完善的协议： V2Ray 使用了新的自行研发的VMess协议，改进了Shadowsocks一些已有的缺点，更难被墙检测到 强大的性能： 相对于Shadowsocks，V2Ray的网络性能更好，具体数据可以看官方博客 更丰富的功能： V2Ray比起Shadowsocks多了许多的功能，以下是部分V2Ray的功能 mKCP: V2Ray 的 KCP 协议实现，不必另行安装 kcptun 动态端口：动态改变通信的端口，对抗对长时间大流量端口的限速封锁 路由功能：可以随意设定指定数据包的流向 传出代理：看名字可能不太好理解，其实差不多可以称之为多重代理。类似于 Tor 的代理 数据包伪装：类似于 Shadowsocks-rss 的混淆，另外对于 mKCP 的数据包也可伪装 WebSocket 协议：可以 PaaS 平台搭建V2Ray，通过 websocket 代理。也可以通过它使用 cdn（如 cloudflare） 中转，抗封锁效果更好 V2Ray缺点 配置复杂 GUI客户端不完善 产业链不成熟（你看无数的站长卖Shadowsocks玩得多嗨）","categories":[{"name":"gfw","slug":"gfw","permalink":"http://yoursite.com/categories/gfw/"}],"tags":[{"name":"V2Ray","slug":"V2Ray","permalink":"http://yoursite.com/tags/V2Ray/"}]}]}